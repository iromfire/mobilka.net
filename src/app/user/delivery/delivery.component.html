<form [formGroup]="form" (ngSubmit)="submit()" *ngIf="totalPrice | async">
  <h2>Доставка</h2>

  <div class="form-control" [formGroup]="form">
    <label for="name">Имя</label>
    <input id="name" type="text" formControlName="name" />
    <div
      *ngIf="form.get('name')!.touched && form.get('name')?.invalid"
      class="validation"
    >
      <small *ngIf="form.get('name')!.errors!.required">Введите ваше имя</small>
    </div>
  </div>

  <div class="form-control" [formGroup]="form">
    <label for="phone">Номер телефона</label>
    <input
      id="phone"
      formControlName="phone"
      prefix="+7"
      mask="(000) 000-00-00"
    />
    <div
      *ngIf="form.get('phone')!.touched && form.get('phone')!.invalid"
      class="validation"
    >
      <small *ngIf="form.get('phone')!.errors!.required"
        >Введите номер вашего телефона</small
      >
    </div>
  </div>

  <div class="form-control" [formGroup]="form">
    <label for="adress">Адрес</label>
    <input id="adress" type="text" formControlName="address" />
    <div
      *ngIf="form.get('address')!.touched && form.get('address')!.invalid"
      class="validation"
    >
      <small *ngIf="form.get('address')!.errors!.required"
        >Введите ваш адрес</small
      >
    </div>
  </div>

  <div class="form-control" [formGroup]="form">
    <label for="payment">Способ оплаты</label>
    <select formControlName="payment" id="payment">
      <option value="Наличные при получении">Наличные при получении</option>
      <option value="Картой при получении">Картой при получении</option>
    </select>
  </div>

  <button
    mat-flat-button
    type="submit"
    class="btn-block"
    color="primary"
    [disabled]="form!.invalid || submitted"
    (submit)="submit()"
  >
    Оформить заказ
  </button>
</form>
